use Libraries.Robots.Lego.Motor
use Libraries.Robots.Lego.ColorSensor
use Libraries.Robots.Lego.Utility
use Libraries.Robots.Lego.Screen
use Libraries.Robots.Lego.Sound
use Libraries.Robots.Lego.Button
use Libraries.Robots.Lego.TouchSensor
use Libraries.Robots.Lego.UltrasonicSensor
use Libraries.Containers.Array
use Libraries.Robots.Lego.GyroSensor
use Libraries.Compute.Math

Motor motor
ColorSensor colorSensor
Utility utility
Screen screen
Sound sound
UltrasonicSensor ultrasonicSensor
GyroSensor gyroSensor
TouchSensor touchSensor
Button button
Math math
//set sensor ports
ultrasonicSensor:SetPort(2)
touchSensor:SetPort(4)
colorSensor:SetPort(1)
gyroSensor:SetPort(3)
integer C3=131
integer Db3=139
integer D3=147
integer Eb3=156
integer E3=165
integer F3=175
integer Gb3=185
integer G3=196
integer Ab3=208
integer A3=220
integer Bb3=233
integer B3=247
integer C4=262
integer Db4=277
integer D4=294
integer Eb4=311
integer E4=330
integer F4=349
integer Gb4=370
integer G4=392
integer Ab4=415
integer A4=440
integer Bb4=466
integer B4=494
integer C5=523
integer Db5=554
integer D5=587
integer Eb5=622
integer E5=659
integer F5=698
integer Gb5=740
integer G5=784
integer Ab5=831
integer A5=880
integer Bb5=932
integer B5=988
integer C6=1047
integer Db6=1109
integer D6=1175
integer Eb6=1245
integer E6=1319
integer F6=1397
integer Gb6=1480
integer G6=1568
integer Ab6=1661
integer A6=1760
integer Bb6=1865
integer B6=1976
integer C7=2093

sound:SetVolume(10) 
integer duration=30 

//repeat until ultrasonicSensor:GetDistance() < 0.5
repeat until touchSensor:IsPressed()

Array<number> redGreenBlueLevels = colorSensor:GetRedGreenBlueLevels()
number red = redGreenBlueLevels:Get(0)*100
number green = redGreenBlueLevels:Get(1)*100
number blue = redGreenBlueLevels:Get(2)*100
red = math:Round(red)
green = math:Round(green)
blue = math:Round(blue)
integer ired =  cast(integer, red)
integer igreen = cast(integer,green)
integer iblue = cast(integer,blue)

screen:OutputLarge("Red: " + ired, 1)
screen:OutputLarge("Green: " + igreen, 3)
screen:OutputLarge("Blue: " + iblue, 5)

motor:SetSpeed("B",5)motor:SetSpeed("C",5)
motor:RotateForward("B")
motor:RotateForward("C")                                     
if ired>22 and ired<30 and igreen>24 and igreen<30 and iblue>14 and iblue<30// 0 white
utility:DelayMilliseconds(duration)
elseif ired>16 and ired<24 and igreen>16 and igreen<24 and iblue>10 and iblue<30 //1 
    sound:PlayTone(C6,duration)
elseif ired>16 and ired<24 and igreen>16 and igreen<24 and iblue>1 and iblue<6 //2 
    sound:PlayTone(B5,duration)
elseif ired>15 and ired<25 and igreen>15 and igreen<24 and iblue>4 and iblue<11 //3 
    sound:PlayTone(A5,duration)
elseif ired>10 and ired<14 and igreen>18 and igreen<22 and iblue>6 and iblue<10 //4 
    sound:PlayTone(G5,duration)
elseif ired>10 and ired<14 and igreen>17 and igreen<21 and iblue>3 and iblue<7 //5 
    sound:PlayTone(F5,duration)
elseif ired>7 and ired<11 and igreen>14 and igreen<20 and iblue>4 and iblue<8 //6 
    sound:PlayTone(E5,duration)
elseif ired>1 and ired<8 and igreen>4 and igreen<12 and iblue>4 and iblue<12 //7
    sound:PlayTone(D5,duration)
elseif ired>7 and ired<15 and igreen>15 and igreen<22 and iblue>6 and iblue<15 //8 
    sound:PlayTone(C5,duration+400)
elseif ired>18 and ired<22 and igreen>8 and igreen<12 and iblue>1 and iblue<4 //9 
    sound:PlayTone(B4,duration)
elseif ired>17 and ired<21 and igreen>5 and igreen<9 and iblue>2 and iblue<6 //10 
    sound:PlayTone(A4,duration)
elseif ired>16 and ired<20 and igreen>3 and igreen<7 and iblue>0 and iblue<3 //11
    sound:PlayTone(G4,duration)
elseif ired>16 and ired<22 and igreen>1 and igreen<7 and iblue>1 and iblue<7 //12 
    sound:PlayTone(F4,duration)
elseif ired>3 and ired<7 and igreen>9 and igreen<13 and iblue>1 and iblue<5 //13 
    sound:PlayTone(E4,duration)
elseif ired>3 and ired<7 and igreen>8 and igreen<12 and iblue>0 and iblue<4 //14 
    sound:PlayTone(D4,duration)
elseif ired>9 and ired<13 and igreen>4 and igreen<8 and iblue>4 and iblue<8 //15 
    sound:PlayTone(C3,duration)
elseif ired>7 and ired<11 and igreen>8 and igreen<12 and iblue>0 and iblue<3 //16 
    sound:PlayTone(B3,duration)
elseif ired>11 and ired<15 and igreen>6 and igreen<9 and iblue>5 and iblue<11 //17
    sound:PlayTone(A3,duration)
elseif ired>3 and ired<12 and igreen>1 and igreen<6 and iblue>1 and iblue<6 //18 
    sound:PlayTone(G3,duration+400)
elseif ired>5 and ired<11 and igreen>1 and igreen<5 and iblue>0 and iblue<3 //19 
    sound:PlayTone(F3,duration)
elseif ired>2 and ired<6 and igreen>7 and igreen<11 and iblue>6 and iblue<10 //20 
    sound:PlayTone(E3,duration)
elseif ired>2 and ired<6 and igreen>10 and igreen<14 and iblue>5 and iblue<9 //21
    sound:PlayTone(D3,duration)
elseif ired>3 and ired<7 and igreen>5 and igreen<9 and iblue>5 and iblue<9 //22 
    sound:PlayTone(C7,duration)
elseif ired>3 and ired<7 and igreen>3 and igreen<7 and iblue>3 and iblue<7 //23 
    sound:PlayTone(B6,duration)
elseif ired>2 and ired<6 and igreen>2 and igreen<6 and iblue>2 and iblue<6 //24 
    sound:PlayTone(A6,duration)
elseif ired>9 and ired<13 and igreen>4 and igreen<8 and iblue>4 and iblue<8 //25 
    sound:PlayTone(G6,duration)
elseif ired>1 and ired<5 and igreen>3 and igreen<7 and iblue>2 and iblue<6 //26 
    sound:PlayTone(F6,duration)
elseif ired>1 and ired<5 and igreen>3 and igreen<7 and iblue>3 and iblue<7 //27
    sound:PlayTone(E6,duration)
elseif ired>8 and ired<12 and igreen>2 and igreen<6 and iblue>0 and iblue<3 //28 
    sound:PlayTone(D6,duration+400)
elseif ired>0 and ired<3 and igreen>1 and igreen<5 and iblue>0 and iblue<3 //29 
    sound:PlayTone(Gb5,duration)
elseif ired=0 and ired<2 and igreen>0 and igreen<2 and iblue>0 and iblue<2 //30 
    sound:PlayTone(Gb4,duration)


else utility:DelayMilliseconds(duration) //sound:PlayTone(55,duration) // this should sound only of NONE is 
end
utility:DelayMilliseconds(15) ///PAUSE BETWEEN LOOPS
end
//end
motor:Stop("B")
motor:Stop("C")

